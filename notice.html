<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>연운 - 게시판</title>
    <link rel="icon" type="image/png" href="https://cdn.discordapp.com/emojis/1410879101194993744.webp?size=256" />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/notice.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="js/mobile-console.js"></script>
</head>

<body>
    <div class="board-container">
        <header class="board-header">
            <h1 class="board-title">게시판</h1>
            <div style="display: flex; gap: 10px;">
                <button id="btn-login" class="back-btn" style="cursor: pointer;">🔒 관리자 로그인</button>
                <a href="index.html" class="back-btn">
                    <span>⬅</span> 지도로 돌아가기
                </a>
            </div>
        </header>

        <div class="board-tabs">
            <button class="board-tab active" data-tab="system-update-section">시스템 업데이트</button>
            <button class="board-tab" data-tab="translation-update-section">번역 업데이트</button>
            <button class="board-tab" data-tab="notice-section">공지사항</button>
            <button class="board-tab" data-tab="free-board-section">자유게시판</button>
            <button class="board-tab" data-tab="report-board-section">신고/제보</button>
            <button class="board-tab" data-tab="link-section">링크</button>
        </div>

        <!-- 시스템 업데이트 -->
        <div id="system-update-section" class="board-content active">
            <div id="system-update-list-view" class="board-sub-view active">
                <div class="list-header" style="justify-content: flex-end; margin-bottom: 10px;">
                    <button class="btn-write admin-only" id="btn-show-system-write" style="display: none;">업데이트
                        작성</button>
                </div>
                <div id="system-update-list" class="post-list">
                    <div class="post-item" style="text-align: center; padding: 40px; color: #666;">로딩 중...</div>
                </div>
            </div>

            <div id="system-update-write-view" class="board-sub-view">
                <button class="btn-list" id="btn-cancel-system-write">목록으로</button>
                <h3 style="margin-top: 0; color: #fff;">시스템 업데이트 작성</h3>
                <div class="write-form">
                    <div class="form-group">
                        <label for="system-version">버전 (예: v1.0.0)</label>
                        <input type="text" id="system-version" placeholder="버전 입력">
                    </div>
                    <div class="form-group">
                        <label for="system-content">내용 (줄바꿈으로 구분)</label>
                        <textarea id="system-content" placeholder="업데이트 내용을 입력하세요."></textarea>
                    </div>
                    <button id="btn-submit-system-update" class="btn-submit">등록하기</button>
                </div>
            </div>
        </div>

        <!-- 번역 업데이트 -->
        <div id="translation-update-section" class="board-content">
            <div id="translation-update-list-view" class="board-sub-view active">
                <div class="list-header" style="justify-content: flex-end; margin-bottom: 10px;">
                    <button class="btn-write admin-only" id="btn-show-translation-write" style="display: none;">업데이트
                        작성</button>
                </div>
                <div id="translation-update-list" class="post-list">
                    <div class="post-item" style="text-align: center; padding: 40px; color: #666;">로딩 중...</div>
                </div>
            </div>

            <div id="translation-update-write-view" class="board-sub-view">
                <button class="btn-list" id="btn-cancel-translation-write">목록으로</button>
                <h3 style="margin-top: 0; color: #fff;">번역 업데이트 작성</h3>
                <div class="write-form">
                    <div class="form-group">
                        <label for="translation-version">버전 (예: v1.0.0)</label>
                        <input type="text" id="translation-version" placeholder="버전 입력">
                    </div>
                    <div class="form-group">
                        <label for="translation-content">내용 (줄바꿈으로 구분)</label>
                        <textarea id="translation-content" placeholder="업데이트 내용을 입력하세요."></textarea>
                    </div>
                    <button id="btn-submit-translation-update" class="btn-submit">등록하기</button>
                </div>
            </div>
        </div>

        <!-- 공지사항 -->
        <div id="notice-section" class="board-content">
            <div id="notice-list-view" class="board-sub-view active" style="height: 100%;">
                <div class="list-header" style="justify-content: flex-end; margin-bottom: 10px;">
                    <button class="btn-write admin-only" id="btn-show-notice-write" style="display: none;">공지사항
                        작성</button>
                </div>
                <table class="board-table">
                    <thead>
                        <tr>
                            <th class="col-id">번호</th>
                            <th class="col-title">제목</th>
                            <th class="col-author">작성자</th>
                            <th class="col-date">작성일</th>
                        </tr>
                    </thead>
                    <tbody id="notice-table-body"></tbody>
                </table>
            </div>

            <div id="notice-write-view" class="board-sub-view">
                <button class="btn-list" id="btn-cancel-notice-write">목록으로</button>
                <h3 style="margin-top: 0; color: #fff;">공지사항 작성</h3>
                <div class="write-form">
                    <div class="form-group">
                        <label for="notice-title">제목</label>
                        <input type="text" id="notice-title" placeholder="제목을 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="notice-content">내용 (마크다운 지원)</label>
                        <textarea id="notice-content" placeholder="내용을 입력하세요"></textarea>
                    </div>
                    <button id="btn-submit-notice" class="btn-submit">등록하기</button>
                </div>
            </div>

            <div id="notice-detail-view" class="notice-detail">
                <button class="btn-list" id="btn-back-to-list">목록으로</button>
                <div class="detail-header">
                    <div class="detail-title" id="detail-title"></div>
                    <div class="detail-meta">
                        <span id="detail-author"></span>
                        <span id="detail-date"></span>
                    </div>
                </div>
                <div class="detail-body" id="detail-content"></div>
                <div class="comment-section">
                    <div class="comment-form">
                        <input type="text" id="comment-input" class="comment-input" placeholder="댓글을 입력하세요...">
                        <button id="btn-submit-comment" class="comment-btn">등록</button>
                    </div>
                    <div id="comment-list" class="comment-list"></div>
                </div>
            </div>
        </div>

        <!-- 자유게시판 -->
        <div id="free-board-section" class="board-content">
            <div id="free-board-list-view" class="board-sub-view active">
                <div class="list-header">
                    <h3 style="margin: 0; color: #fff;">자유게시판</h3>
                    <button class="btn-write" id="btn-show-write-form">글쓰기</button>
                </div>
                <div id="free-board-list" class="post-list" style="flex: 1;">
                    <table class="board-table">
                        <thead>
                            <tr>
                                <th class="col-id">번호</th>
                                <th class="col-title">제목</th>
                                <th class="col-author">작성자</th>
                                <th class="col-date">작성일</th>
                            </tr>
                        </thead>
                        <tbody id="free-board-table-body"></tbody>
                    </table>
                </div>
            </div>

            <div id="free-board-write-view" class="board-sub-view">
                <button class="btn-list" id="btn-cancel-write">목록으로</button>
                <h3 style="margin-top: 0; color: #fff;">새 글 작성</h3>
                <div class="write-form">
                    <div class="form-group">
                        <label for="post-author">닉네임 (선택)</label>
                        <input type="text" id="post-author" placeholder="익명">
                    </div>
                    <div class="form-group">
                        <label for="post-title">제목 (필수)</label>
                        <input type="text" id="post-title" placeholder="제목을 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="post-content">내용 (필수)</label>
                        <textarea id="post-content" placeholder="내용을 입력하세요"></textarea>
                    </div>
                    <button id="btn-submit-post" class="btn-submit">등록하기</button>
                </div>
            </div>

            <div id="free-board-detail-view" class="board-sub-view post-detail">
                <button class="btn-list" id="btn-back-to-free-list">목록으로</button>
                <div class="detail-header">
                    <div class="detail-title" id="post-detail-title"></div>
                    <div class="detail-meta">
                        <span id="post-detail-author"></span>
                        <span id="post-detail-date"></span>
                    </div>
                </div>
                <div class="detail-body" id="post-detail-content"></div>
                <div class="comment-section">
                    <div class="comment-form">
                        <input type="text" id="post-comment-input" class="comment-input" placeholder="댓글을 입력하세요...">
                        <button id="btn-submit-post-comment" class="comment-btn">등록</button>
                    </div>
                    <div id="post-comment-list" class="comment-list"></div>
                </div>
            </div>
        </div>

        <!-- 신고/제보 게시판 -->
        <div id="report-board-section" class="board-content">
            <div id="report-board-list-view" class="board-sub-view active">
                <div class="list-header">
                    <h3 style="margin: 0; color: #fff;">신고/제보 게시판</h3>
                    <button class="btn-write" id="btn-show-report-write">제보하기</button>
                </div>
                <div id="report-board-list" class="post-list" style="flex: 1;">
                    <table class="board-table">
                        <thead>
                            <tr>
                                <th class="col-id">상태</th>
                                <th class="col-title">제목</th>
                                <th class="col-author">태그</th>
                                <th class="col-date">작성일</th>
                            </tr>
                        </thead>
                        <tbody id="report-board-table-body"></tbody>
                    </table>
                </div>
            </div>

            <div id="report-board-write-view" class="board-sub-view">
                <button class="btn-list" id="btn-cancel-report">목록으로</button>
                <h3 style="margin-top: 0; color: #fff;">오류 제보 / 데이터 추가</h3>
                <div class="write-form">
                    <div class="form-group">
                        <label for="report-author">닉네임 (선택)</label>
                        <input type="text" id="report-author" placeholder="익명 제보자">
                    </div>
                    <div class="form-group">
                        <label for="report-tag">태그 (필수)</label>
                        <select id="report-tag" class="form-select">
                            <option value="BUG">🐛 오류 제보</option>
                            <option value="DATA">✨ 데이터 추가</option>
                            <option value="TRANSLATION">🔤 번역 수정</option>
                            <option value="OTHER">💬 기타</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="report-title">제목 (필수)</label>
                        <input type="text" id="report-title" placeholder="제목을 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="report-content">내용 (필수) - 마크다운 지원</label>
                        <textarea id="report-content" placeholder="내용을 자세히 적어주세요 (마크다운 사용 가능)"></textarea>
                    </div>
                    <div class="form-group" id="report-json-group" style="display: none;">
                        <label for="report-json">데이터 (자동 입력)</label>
                        <textarea id="report-json" readonly class="json-textarea"></textarea>
                    </div>
                    <button id="btn-submit-report" class="btn-submit">제보하기</button>
                </div>
            </div>

            <div id="report-board-detail-view" class="board-sub-view post-detail">
                <button class="btn-list" id="btn-back-to-report-list">목록으로</button>
                <div class="detail-header">
                    <div class="report-status-row">
                        <span id="report-detail-status" class="status-badge"></span>
                    </div>
                    <h2 class="detail-title" id="report-detail-title"></h2>
                    <div class="detail-meta">
                        <span id="report-detail-author"></span>
                        <span id="report-detail-date"></span>
                        <span id="report-detail-tag" class="report-tag"></span>
                    </div>
                </div>
                <div class="detail-body">
                    <div id="report-detail-image-container" class="report-image-container">
                        <img id="report-detail-image" src="" alt="첨부 이미지">
                    </div>
                    <div id="report-detail-content"></div>
                    <div id="report-detail-json-container" class="json-container">
                        <h4>첨부 데이터</h4>
                        <pre><code id="report-detail-json" class="language-json"></code></pre>
                    </div>
                    <div id="report-map-container" class="map-viewer-container">
                        <button id="btn-view-map" class="btn-view-map">
                            <span>🗺️</span> 위치 확인하기
                        </button>
                    </div>
                </div>
                <div class="comment-section">
                    <div class="comment-form">
                        <input type="text" id="report-comment-input" class="comment-input" placeholder="댓글을 입력하세요...">
                        <button id="btn-submit-report-comment" class="comment-btn">등록</button>
                    </div>
                    <div id="report-comment-list" class="comment-list"></div>
                </div>
            </div>
        </div>

        <!-- 링크 -->
        <div id="link-section" class="board-content">
            <div id="link-list" class="link-grid"></div>
        </div>
    </div>

    <!-- 로그인 모달 -->
    <div id="login-modal" class="login-modal">
        <div class="login-modal-content">
            <h3 class="login-modal-title">관리자 로그인</h3>
            <input type="email" id="login-email" class="login-input" placeholder="이메일">
            <input type="password" id="login-password" class="login-input" placeholder="비밀번호">
            <button id="btn-perform-login" class="login-btn">로그인</button>
            <button id="btn-close-login" class="login-close-btn">닫기</button>
        </div>
    </div>

    <!-- 지도 모달 -->
    <div id="map-modal" class="map-modal">
        <div class="map-modal-content">
            <div class="map-modal-header">
                <h3 class="map-modal-title">위치 확인</h3>
                <button id="btn-close-map" class="map-modal-close">&times;</button>
            </div>
            <iframe id="map-frame" class="map-frame" src=""></iframe>
        </div>
    </div>

    <script type="module" src="js/notice.js"></script>
    <script>hljs.highlightAll();</script>
</body>

</html>