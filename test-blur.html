<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ëŒ“ê¸€ íˆ¬í‘œ íë¦¼ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</title>
    <!-- ì‹¤ì œ í”„ë¡œì íŠ¸ CSS ì‚¬ìš© -->
    <link rel="stylesheet" href="css/base/variables.css" />
    <link rel="stylesheet" href="css/base/reset.css" />
    <link rel="stylesheet" href="css/popups/comments.css" />
    <link rel="stylesheet" href="css/popups/vote.css" />
    <style>
      body {
        font-family:
          "Pretendard",
          "Noto Sans KR",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        background: var(--bg-panel, #1a1a2e);
        min-height: 100vh;
        padding: 40px 20px;
        color: var(--text-main, #e0e0e0);
      }

      .container {
        max-width: 500px;
        margin: 0 auto;
      }

      h1 {
        text-align: center;
        margin-bottom: 10px;
        color: var(--accent, #ffa500);
        font-size: 1.5rem;
      }

      .description {
        text-align: center;
        color: var(--text-muted, #888);
        margin-bottom: 30px;
        font-size: 0.9rem;
      }

      .test-controls {
        background: var(--bg-item, #16213e);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 30px;
        border: 1px solid var(--border, rgba(255, 255, 255, 0.1));
      }

      .test-controls h3 {
        margin-bottom: 15px;
        color: var(--accent, #ffa500);
        font-size: 1rem;
      }

      .control-row {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 15px;
        flex-wrap: wrap;
      }

      .control-row label {
        font-size: 0.85rem;
      }

      .control-row input[type="number"] {
        width: 60px;
        padding: 8px 10px;
        background: var(--bg-panel, #1a1a2e);
        border: 1px solid var(--border, rgba(255, 255, 255, 0.1));
        border-radius: 8px;
        color: var(--text-main, #e0e0e0);
        font-size: 0.9rem;
      }

      .control-row input[type="number"]:focus {
        outline: none;
        border-color: var(--accent, #ffa500);
      }

      .result-badge {
        padding: 6px 14px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
      }

      .result-badge.blur {
        background: rgba(255, 80, 80, 0.2);
        color: #ff5050;
      }

      .result-badge.normal {
        background: rgba(80, 200, 120, 0.2);
        color: #50c878;
      }

      .formula {
        background: var(--bg-panel, #1a1a2e);
        padding: 12px 16px;
        border-radius: 8px;
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.8rem;
        line-height: 1.6;
      }

      .popup-related {
        margin-bottom: 20px;
      }

      .example-label {
        font-size: 0.75rem;
        color: var(--text-muted, #888);
        margin-bottom: 6px;
        margin-top: 12px;
      }

      .example-label:first-child {
        margin-top: 0;
      }

      .toggle-btn {
        display: block;
        width: 100%;
        padding: 12px;
        margin-top: 20px;
        background: var(--accent, #ffa500);
        color: #000;
        border: none;
        border-radius: 8px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
      }

      .toggle-btn:hover {
        filter: brightness(1.1);
        transform: translateY(-2px);
      }

      /* ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ ë†’ì´ ì œí•œ í•´ì œ (í…ŒìŠ¤íŠ¸ìš©) */
      .comments-list {
        max-height: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ§ª ëŒ“ê¸€ íˆ¬í‘œ íë¦¼ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</h1>
      <p class="description">
        ë¹„ì¶”ì²œì´ ë§ì€ ëŒ“ê¸€ì„ ìë™ìœ¼ë¡œ íë¦¬ê²Œ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥
      </p>

      <div class="test-controls">
        <h3>ğŸ“Š íë¦¼ ì¡°ê±´ ê³„ì‚°ê¸°</h3>
        <div class="control-row">
          <label>ğŸ‘ ì¶”ì²œ:</label>
          <input
            type="number"
            id="upvotes"
            value="1"
            min="0"
            onchange="calculate()"
            oninput="calculate()"
          />
          <label>ğŸ‘ ë¹„ì¶”ì²œ:</label>
          <input
            type="number"
            id="downvotes"
            value="5"
            min="0"
            onchange="calculate()"
            oninput="calculate()"
          />
          <span class="result-badge" id="result">íë¦¼</span>
        </div>
        <div class="formula" id="formula">
          ì¡°ê±´: down >= 5 && down > up * 2<br />
          ê³„ì‚°: 5 >= 5 âœ… && 5 > 1 * 2 = 2 âœ… â†’ íë¦¼ ì²˜ë¦¬
        </div>
      </div>

      <!-- ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬ì¡° ê·¸ëŒ€ë¡œ ì‚¬ìš© -->
      <div class="popup-related">
        <div class="popup-related-header">
          <h5>ğŸ’¬ ëŒ“ê¸€ ë°ëª¨</h5>
        </div>
        <div class="popup-comments-container">
          <div class="comments-list">
            <!-- ì •ìƒ ëŒ“ê¸€ 1 -->
            <div class="example-label">âœ… ì •ìƒ ëŒ“ê¸€ (ğŸ‘ 10 / ğŸ‘ 2)</div>
            <div class="comment-item" data-id="demo-1">
              <div class="comment-header">
                <span class="comment-author">
                  <svg
                    width="12"
                    height="12"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    style="vertical-align: -1px; margin-right: 4px"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  ì—¬í–‰ìA
                  <span
                    style="font-size: 0.8em; color: #888; font-weight: normal"
                    >(192.168.*)</span
                  >
                </span>
                <span class="comment-meta">
                  <span class="comment-date">2026-01-22</span>
                </span>
              </div>
              <div class="comment-text">
                ì´ ì •ë³´ ì •ë§ ìœ ìš©í•´ìš”! ë•ë¶„ì— í€˜ìŠ¤íŠ¸ ì‰½ê²Œ ê¹¼ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!
              </div>
              <div class="comment-footer">
                <div class="vote-container vote-small" data-item-id="demo-1">
                  <div class="vote-buttons">
                    <button class="btn-vote btn-up" data-type="up">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"
                        ></path>
                      </svg>
                      <span class="vote-count">10</span>
                    </button>
                    <button class="btn-vote btn-down" data-type="down">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"
                        ></path>
                      </svg>
                      <span class="vote-count">2</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- íë¦¼ ì²˜ë¦¬ëœ ëŒ“ê¸€ 1 -->
            <div class="example-label">
              ğŸš« íë¦¼ ì²˜ë¦¬ (ğŸ‘ 1 / ğŸ‘ 8) - í´ë¦­í•˜ì—¬ ë³´ê¸°
            </div>
            <div class="comment-item blurred-comment" data-id="demo-2">
              <div class="blur-overlay" data-action="reveal-comment">
                <span>ë¹„ì¶”ì²œì´ ë§ì€ ëŒ“ê¸€ì…ë‹ˆë‹¤ (í´ë¦­í•˜ì—¬ ë³´ê¸°)</span>
              </div>
              <div class="comment-header">
                <span class="comment-author">
                  <svg
                    width="12"
                    height="12"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    style="vertical-align: -1px; margin-right: 4px"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  ìŠ¤íŒ¸ë´‡
                  <span
                    style="font-size: 0.8em; color: #888; font-weight: normal"
                    >(unknown)</span
                  >
                </span>
                <span class="comment-meta">
                  <span class="comment-date">2026-01-20</span>
                </span>
              </div>
              <div class="comment-text">
                ì´ ëŒ“ê¸€ì€ ë¹„ì¶”ì²œì´ ë§ì•„ì„œ íë¦¼ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜¤ë²„ë ˆì´ë¥¼
                í´ë¦­í•˜ë©´ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
              </div>
              <div class="comment-footer">
                <div class="vote-container vote-small" data-item-id="demo-2">
                  <div class="vote-buttons">
                    <button class="btn-vote btn-up" data-type="up">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"
                        ></path>
                      </svg>
                      <span class="vote-count">1</span>
                    </button>
                    <button class="btn-vote btn-down" data-type="down">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"
                        ></path>
                      </svg>
                      <span class="vote-count">8</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- ê²½ê³„ì„  ëŒ“ê¸€ (íë¦¼) -->
            <div class="example-label">
              âš ï¸ ê²½ê³„ì„  (ğŸ‘ 2 / ğŸ‘ 5) - íë¦¼ ì²˜ë¦¬ë¨
            </div>
            <div class="comment-item blurred-comment" data-id="demo-3">
              <div class="blur-overlay" data-action="reveal-comment">
                <span>ë¹„ì¶”ì²œì´ ë§ì€ ëŒ“ê¸€ì…ë‹ˆë‹¤ (í´ë¦­í•˜ì—¬ ë³´ê¸°)</span>
              </div>
              <div class="comment-header">
                <span class="comment-author">
                  <svg
                    width="12"
                    height="12"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    style="vertical-align: -1px; margin-right: 4px"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  ë…¼ë€ìœ ì €
                  <span
                    style="font-size: 0.8em; color: #888; font-weight: normal"
                    >(10.0.*)</span
                  >
                </span>
                <span class="comment-meta">
                  <span class="comment-date">2026-01-21</span>
                </span>
              </div>
              <div class="comment-text">
                ê²½ê³„ì„  ì‚¬ë¡€ì…ë‹ˆë‹¤. ë¹„ì¶”ì²œ 5ê°œëŠ” ì¶”ì²œ 2ê°œì˜ 2ë°°(=4)ë³´ë‹¤ í¬ë¯€ë¡œ
                íë¦¼ ì²˜ë¦¬ë©ë‹ˆë‹¤.
              </div>
              <div class="comment-footer">
                <div class="vote-container vote-small" data-item-id="demo-3">
                  <div class="vote-buttons">
                    <button class="btn-vote btn-up" data-type="up">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"
                        ></path>
                      </svg>
                      <span class="vote-count">2</span>
                    </button>
                    <button class="btn-vote btn-down" data-type="down">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"
                        ></path>
                      </svg>
                      <span class="vote-count">5</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- ê²½ê³„ì„  ëŒ“ê¸€ (í†µê³¼) -->
            <div class="example-label">
              âœ… ê²½ê³„ì„  í†µê³¼ (ğŸ‘ 3 / ğŸ‘ 5) - ì •ìƒ í‘œì‹œ
            </div>
            <div class="comment-item" data-id="demo-4">
              <div class="comment-header">
                <span class="comment-author">
                  <svg
                    width="12"
                    height="12"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    style="vertical-align: -1px; margin-right: 4px"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  ì¼ë°˜ìœ ì €
                  <span
                    style="font-size: 0.8em; color: #888; font-weight: normal"
                    >(172.16.*)</span
                  >
                </span>
                <span class="comment-meta">
                  <span class="comment-date">2026-01-21</span>
                </span>
              </div>
              <div class="comment-text">
                ê²½ê³„ì„  í†µê³¼ ì‚¬ë¡€ì…ë‹ˆë‹¤. ë¹„ì¶”ì²œ 5ê°œëŠ” ì¶”ì²œ 3ê°œì˜ 2ë°°(=6)ë³´ë‹¤
                ì‘ê±°ë‚˜ ê°™ìœ¼ë¯€ë¡œ ì •ìƒ í‘œì‹œë©ë‹ˆë‹¤.
              </div>
              <div class="comment-footer">
                <div class="vote-container vote-small" data-item-id="demo-4">
                  <div class="vote-buttons">
                    <button class="btn-vote btn-up" data-type="up">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"
                        ></path>
                      </svg>
                      <span class="vote-count">3</span>
                    </button>
                    <button class="btn-vote btn-down" data-type="down">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"
                        ></path>
                      </svg>
                      <span class="vote-count">5</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- ë‹µê¸€ ì˜ˆì‹œ -->
            <div class="comment-item comment-reply" data-id="demo-5">
              <div class="comment-header">
                <span class="comment-author">
                  <svg
                    width="12"
                    height="12"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    style="vertical-align: -1px; margin-right: 4px"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  ë‹µê¸€ìœ ì €
                  <span
                    style="font-size: 0.8em; color: #888; font-weight: normal"
                    >(192.168.*)</span
                  >
                </span>
                <span class="comment-meta">
                  <span class="comment-date">2026-01-22</span>
                </span>
              </div>
              <div class="comment-text">
                ìœ„ ëŒ“ê¸€ì— ëŒ€í•œ ë‹µê¸€ì…ë‹ˆë‹¤. ë‹µê¸€ì€ ì™¼ìª½ì— ë“¤ì—¬ì“°ê¸°ê°€ ë©ë‹ˆë‹¤.
              </div>
              <div class="comment-footer">
                <div class="vote-container vote-small" data-item-id="demo-5">
                  <div class="vote-buttons">
                    <button class="btn-vote btn-up" data-type="up">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"
                        ></path>
                      </svg>
                      <span class="vote-count">5</span>
                    </button>
                    <button class="btn-vote btn-down" data-type="down">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"
                        ></path>
                      </svg>
                      <span class="vote-count">0</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <button class="toggle-btn" onclick="resetBlur()">
            ğŸ”„ íë¦¼ ëŒ“ê¸€ ë‹¤ì‹œ ìˆ¨ê¸°ê¸°
          </button>
        </div>
      </div>
    </div>

    <script>
      // íë¦¼ ì¡°ê±´ ê³„ì‚°ê¸°
      function calculate() {
        const up = parseInt(document.getElementById("upvotes").value) || 0;
        const down = parseInt(document.getElementById("downvotes").value) || 0;

        const condition1 = down >= 5;
        const condition2 = down > up * 2;
        const isBlurred = condition1 && condition2;

        const resultEl = document.getElementById("result");
        const formulaEl = document.getElementById("formula");

        if (isBlurred) {
          resultEl.textContent = "ğŸš« íë¦¼";
          resultEl.className = "result-badge blur";
        } else {
          resultEl.textContent = "âœ… ì •ìƒ";
          resultEl.className = "result-badge normal";
        }

        formulaEl.innerHTML = `
                ì¡°ê±´: down >= 5 && down > up * 2<br>
                ê³„ì‚°: ${down} >= 5 ${condition1 ? "âœ…" : "âŒ"} && ${down} > ${up} * 2 = ${up * 2} ${condition2 ? "âœ…" : "âŒ"} â†’ ${isBlurred ? "íë¦¼ ì²˜ë¦¬" : "ì •ìƒ í‘œì‹œ"}
            `;
      }

      // íë¦¼ í•´ì œ (ì‹¤ì œ í”„ë¡œì íŠ¸ ë¡œì§ê³¼ ë™ì¼)
      document.addEventListener("click", (e) => {
        const target = e.target;
        if (target.closest('[data-action="reveal-comment"]')) {
          const overlay = target.closest('[data-action="reveal-comment"]');
          const commentItem = overlay.closest(".comment-item");
          if (commentItem) {
            commentItem.classList.remove("blurred-comment");
            overlay.remove();
          }
        }
      });

      // íë¦¼ ë¦¬ì…‹
      function resetBlur() {
        const blurredIds = ["demo-2", "demo-3"];
        blurredIds.forEach((id) => {
          const item = document.querySelector(`[data-id="${id}"]`);
          if (item && !item.classList.contains("blurred-comment")) {
            item.classList.add("blurred-comment");
            const overlay = document.createElement("div");
            overlay.className = "blur-overlay";
            overlay.setAttribute("data-action", "reveal-comment");
            overlay.innerHTML =
              "<span>ë¹„ì¶”ì²œì´ ë§ì€ ëŒ“ê¸€ì…ë‹ˆë‹¤ (í´ë¦­í•˜ì—¬ ë³´ê¸°)</span>";
            item.prepend(overlay);
          }
        });
      }

      // ì´ˆê¸° ê³„ì‚°
      calculate();
    </script>
  </body>
</html>
